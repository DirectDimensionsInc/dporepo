{% extends 'default_bootstrap_admin.html.twig' %}

{% block content %}

    {% if errors %}
      <div class="alert alert-danger">
        <h4>Form Errors</h4>
        {% for single_error in errors %}
        <p>{{ single_error }}</p>
        {% endfor %}
      </div>
    {% endif %}

  <ol class="breadcrumb">
    <li><a href="/admin">Dashboard</a></li>
    <li><a href="/admin/workspace">Browse Projects</a></li>
    <li><strong>Project:</strong> <a href="/admin/projects/subjects/{{ projects_id }}">{{ project_data.projects_label|e }}</a></li>
    <li><strong>Subject:</strong> <a href="/admin/projects/items/{{ projects_id }}/{{ subjects_id }}">{{ subject_data.subject_name|e }}</a></li>
    <li><strong>Item:</strong> <a href="/admin/projects/datasets/{{ projects_id }}/{{ subjects_id }}/{{ items_id }}">{{ item_data.item_description_truncated|e }}</a></li>
    <li><strong>Dataset:</strong> <a href="/admin/projects/dataset_elements/{{ projects_id }}/{{ subjects_id }}/{{ items_id }}/{{ datasets_id }}">{{ dataset_data.dataset_name|e }}</a></li>
    <li class="active">{% if dataset_element_data.dataset_element_guid is defined %}<strong>Dataset Element:</strong> {{ dataset_element_data.dataset_element_guid|e }}{% else %}Add a New Dataset Element{% endif %}</li>
  </ol>

  <form id="dataset_form" method="POST">
    {#% include 'csrf_input.html' %#}

    <!-- row -->
    <div id="single_dataset_element_container" class="row">

      <div class="col-sm-12 col-md-12">
        <div class="form-group">
          <a href="{{ app.request.headers.get('referer')|default('/admin/workspace/') }}" class="btn btn-default" role="button"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span> Back</a>
        </div>
      </div>

      <!-- column 1 -->
      <div class="col-sm-6 col-md-6">

        {% if dataset_element_data.dataset_element_guid is defined %}
        <div class="form-group">
          <label class="control-label" for="dataset_element_guid">Dataset Element GUID:</label>
          <div class="controls">
            <p>{{ dataset_element_data.dataset_element_guid|e }}</p>
          </div>
        </div>
        {% endif %}

        <div class="form-group">
          <label class="control-label" for="camera_id"><span style="color:red;">*</span>Camera ID:</label>
          <div class="controls">
            <p><span class="glyphicon glyphicon-info-sign" aria-hidden="true"></span> <em>Numeric, no spaces allowed</em></p>
            <input name="camera_id" id="camera_id" type="text" required="true" value="{{ dataset_element_data.camera_id|default('')|e }}" class="form-control">
          </div>
        </div>

        <div class="form-group">
          <label class="control-label" for="camera_capture_position_id"><span style="color:red;">*</span>Camera Capture Position ID:</label>
          <div class="controls">
            <p><span class="glyphicon glyphicon-info-sign" aria-hidden="true"></span> <em>Alphanumeric, no spaces allowed</em></p>
            <input name="camera_capture_position_id" id="camera_capture_position_id" type="text" required="true" value="{{ dataset_element_data.camera_capture_position_id|default('')|e }}" class="form-control">
          </div>
        </div>

        <div class="form-group">
          <label class="control-label" for="cluster_position_id"><span style="color:red;">*</span>Cluster Position ID:</label>
          <div class="controls">
            <p><span class="glyphicon glyphicon-info-sign" aria-hidden="true"></span> <em>Alphanumeric, no spaces allowed</em></p>
            <input name="cluster_position_id" id="cluster_position_id" type="text" required="true" value="{{ dataset_element_data.cluster_position_id|default('')|e }}" class="form-control">
          </div>
        </div>

      </div>

      <!-- column 2 -->
      <div class="col-sm-6 col-md-6">

        <div class="form-group">
          <label class="control-label" for="calibration_object_type_id"><span style="color:red;">*</span>Calibration Object Type:</label>
          <div class="controls">
            <select id="calibration_object_type_id" name="calibration_object_type_id" required="true">
              <option value="0">Select</option>
              {% for single_capture_method in dataset_element_data.calibration_object_types %}
                {% set selected = '' %}
                {% if dataset_element_data.calibration_object_type_id is defined and single_capture_method.calibration_object_types_id == dataset_element_data.calibration_object_type_id %}
                  {% set selected = ' selected="selected"' %}
                {% endif %}
                <option value="{{ single_capture_method.calibration_object_types_id }}"{{ selected }}>{{ single_capture_method.label }}</option>
              {% endfor %}
            </select>
          </div>
        </div>

        <div class="form-group">
          <label class="control-label" for="exif_data_placeholder"><span style="color:red;">*</span>EXIF Data Placeholder:</label>
          <div class="controls">
            <p><span class="glyphicon glyphicon-info-sign" aria-hidden="true"></span> <em>255 character limit</em></p>
            <input name="exif_data_placeholder" id="exif_data_placeholder" type="text" required="true" value="{{ dataset_element_data.exif_data_placeholder|default('')|e }}" class="form-control">
          </div>
        </div>

        <div class="form-group">
          <label class="control-label" for="camera_body"><span style="color:red;">*</span>Camera Body:</label>
          <div class="controls">
            <p><span class="glyphicon glyphicon-info-sign" aria-hidden="true"></span> <em>255 character limit</em></p>
            <input name="camera_body" id="camera_body" type="text" required="true" value="{{ dataset_element_data.camera_body|default('')|e }}" class="form-control">
          </div>
        </div>

        <div class="form-group">
          <label class="control-label" for="lens"><span style="color:red;">*</span>Lens:</label>
          <div class="controls">
            <p><span class="glyphicon glyphicon-info-sign" aria-hidden="true"></span> <em>255 character limit</em></p>
            <input name="lens" id="lens" type="text" required="true" value="{{ dataset_element_data.lens|default('')|e }}" class="form-control">
          </div>
        </div>
        
      </div>

    </div>

    <div class="field-group" style="clear:both;">
      <input class="btn btn-primary" type="submit" value="Save Edits">
    </div>
  </form>

{% endblock %}
